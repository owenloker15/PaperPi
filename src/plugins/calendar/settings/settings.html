<div class="calendar-settings-container">
  <h2>Calendar Settings</h2>
  <div id="calendar-list-container">
    <div id="calendars-list"></div>
    <button id="add-calendar-btn" onclick="addCalendarInput()">+ Add Calendar</button>
  </div>

  <div class="calendar-layout">
    <label><input type="radio" name="layout" id="day" value="timeGridDay" checked> Day</label>
    <label><input type="radio" name="layout" id="week" value="timeGridWeek"> Week</label>
    <label><input type="radio" name="layout" id="month" value="dayGridMonth"> Month</label>
    <label><input type="radio" name="layout" id="list" value="listMonth"> List</label>
  </div>

  <div class="theme-container">
    <label><input type="radio" name="theme" id="light" value="light" checked> Light</label>
    <label><input type="radio" name="theme" id="dark" value="dark"> Dark</label>
  </div>
</div>

<script>
  function addCalendarInput(url = '', color = '#007BFF') {
    const calendarList = document.getElementById('calendars-list');

    const wrapper = document.createElement('div');

    const colorInput = document.createElement('input');
    colorInput.type = 'color';
    colorInput.name = 'calendarColors[]';
    colorInput.classList.add('color-picker')
    colorInput.value = color;

    const urlInput = document.createElement('input');
    urlInput.type = 'text';
    urlInput.name = 'calendarURLs[]';
    urlInput.placeholder = 'Calendar URL';
    urlInput.classList.add('calendar-url')
    urlInput.required = true;
    urlInput.value = url;

    const removeBtn = document.createElement('button');
    removeBtn.type = 'button';
    removeBtn.innerText = 'âœ•';
    removeBtn.classList.add('remove-btn');
    removeBtn.onclick = function () {
      if (calendarList.childElementCount > 1) {
        wrapper.remove()
      };
    }

    wrapper.appendChild(colorInput);
    wrapper.appendChild(urlInput);
    wrapper.appendChild(removeBtn);

    wrapper.classList.add('calendar-entry');

    calendarList.appendChild(wrapper);
  }

  document.addEventListener('DOMContentLoaded', function () {
    addCalendarInput();
  })
</script>